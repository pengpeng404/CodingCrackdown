# 解法和数据结构

- (120ms)预处理最大和子数组 + 最大线段树(查范围最值)`[o(N^2)+o(P)*o(logN)]`
- (没有验证)预处理最大和子数组 + ST表(查范围最值)
- (250ms)预处理最大和子数组 + 暴力遍历
- (6.5s)单调栈+滑动窗口`[o(N)*o(P)]`超时


## 题目描述

给定一个整数数组，要求对于多个查询，返回子数组长度在 `[L, R]` 范围内的子数组和的最大值。

### 输入格式

- **第一行**：输入两个整数 `n` 和 `q`。
    - `n` 表示数组的元素个数，1 <= n <= 2000。
    - `q` 表示查询次数，1 <= q <= 10^6。

- **第二行**：输入 `n` 个整数，表示数组元素：
    - 每个元素的范围为 -10^9 <= a_i <= 10^9。

- **接下来**：有 `q` 行，每行包含两个整数 `l` 和 `r`，表示子数组的长度区间：
    - 1 <= l <= r <= n。

### 输出格式

对于每个查询，输出一个整数，表示在给定的子数组长度范围 `[l, r]` 内所有子数组和中的最大值。

### 示例

~~~shell
# 输入
3 2
1 2 -1
1 2
3 3
# 输出
3
2
~~~

---